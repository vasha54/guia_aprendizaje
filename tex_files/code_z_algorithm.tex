\subsection{C++}

\subsubsection{Algoritmo trivial}
\begin{lstlisting}[language=C++]
vector<int> z_function_trivial(string s) {
   int n = s.size();
   vector<int> z(n);
   for (int i = 1; i < n; i++) {
      while (i + z[i] < n && s[z[i]] == s[i + z[i]]) {
         z[i]++;
      }
   }
   return z;
}
\end{lstlisting} 

\subsubsection{Algoritmo eficiente}
\begin{lstlisting}[language=C++]
vector<int> z_function(string s) {
   int n = s.size();
   vector<int> z(n);
   int l = 0, r = 0;
   for(int i = 1; i < n; i++) {
      if(i < r) {
         z[i] = min(r - i, z[i - l]);
      }
      while(i + z[i] < n && s[z[i]] == s[i + z[i]]) {
         z[i]++;
      }
      if(i + z[i] > r) {
         l = i;
         r = i + z[i];
      }
   }
   return z;
}

//Otra implementacion
vector<int> z_functionv2(string s) {
   int n = s.size();
   vector<int> z(n);
   int l = 0, r = 0;
   for (int i = 1; i < n; i++) {
      z[i] = max(0,min(z[i-l],r-i+1));
      while (i+z[i] < n && s[z[i]] == s[i+z[i]]) {
			l = i; r = i+z[i]; z[i]++;
		}
	}
	return z;
}	
\end{lstlisting} 

\subsection{Java}

\subsubsection{Algoritmo trivial}
\begin{lstlisting}[language=Java]
public static int [] z_function_trivial(String s) {
   int n = s.length();
   int [] z = new int [n];
   for (int i = 1; i < n; i++) {
      while (i + z[i] < n && s.charAt(z[i]) == s.charAt(i + z[i])) {
         z[i]++;
      }
   }
   return z;
}
\end{lstlisting} 

\subsubsection{Algoritmo eficiente}
\begin{lstlisting}[language=Java]
public static int [] z_function(String s) {
   int n = s.length();
   int [] z = new int[n];
   int l = 0, r = 0;
   for(int i = 1; i < n; i++) {
      if(i < r) {
         z[i] = Math.min(r - i, z[i - l]);
      }
      while(i + z[i] < n && s.charAt(z[i]) == s.charAt(i + z[i])) {
         z[i]++;
      }
      if(i + z[i] > r) {
         l = i;
         r = i + z[i];
      }
   }
   return z;
}

//Otra implementacion
public static int [] z_functionv2(String s) {
   int n = s.length();
   int []  z =new int[n];
   int l = 0, r = 0;
   for (int i = 1; i < n; i++) {
      z[i] = Math.max(0,Math.min(z[i-l],r-i+1));
      while (i+z[i] < n && s.charAt(z[i]) == s.charAt(i+z[i])) {
         l = i; r = i+z[i]; z[i]++;
      }
   }
   return z;
}
\end{lstlisting} 